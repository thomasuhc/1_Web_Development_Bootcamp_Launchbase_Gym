{% extends "layout.njk" %}

{% block content %}

    <div class="card">

        <section class="avatar" style="background: url({{ member.avatar_url }}) no-repeat center center / cover">
        </section>

        
    <!--     <section class="avatar" style="background: url(https://source.unsplash.com/collection/95556558/500x500) no-repeat center center / cover">
        </section> -->

        <form method="POST" action="/members?_method=PUT">
    
            <section class="details">
                <h3>Edit member details</h3>
    
                {% include "members/fields.njk" %}
    
                <input type="hidden" name="id" value="{{ member.id }}">
            </form>

             <form id="form-delete" action="/members?_method=DELETE" method="post">
                    <input type="hidden" name="id" value="{{ member.id }}">
                    <button type="submit">Delete</button>
            
              </form>

     

            </section>
    </div>

             <script>

                  const formDelete = document.querySelector("#form-delete")
                  formDelete.addEventListener("submit", function(event){
                      const confirmation = confirm("Confirm delete")

                      if(!confirmation) {
                          event.preventDefault()
                      }
                  })

              </script>

{% endblock content %}